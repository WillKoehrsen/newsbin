var block=document.getElementById("js-localize-date");if(null!=block){var date=new Date(block.getAttribute("iso"));block.innerHTML=date.toLocaleDateString()+" "+date.toLocaleTimeString()}var data_set={name:"",image:"",table:{},content:[],wikipedia_link:"",politifact_link:""},annotation=new Vue({el:"#modal-annotation",data:data_set,methods:{close:function(t){this.$el.style.display="none"},open:function(t){this.$el.style.display="flex"},clear:function(t){Object.assign(this.$data,data_set)}}}),annotations=document.getElementsByClassName("annotation");if(annotations)for(var i=0;i<annotations.length;i++)annotations[i].addEventListener("click",function(t){var e=this.getAttribute("name"),a=new XMLHttpRequest,n="/annotations?name="+e;a.onload=function(){if(200==this.status){var t=JSON.parse(this.responseText);annotation.clear(),annotation.$data.name=t.name,annotation.$data.image=t.image,annotation.$data.content=t.summary.split("\n\n"),t.truth_score&&(annotation.$data.table.truth_score={key:"Truth Score",value:t.truth_score+"%",tooltip:"calculated from the last five statements fact-checked by politifact.com"}),t.slug&&(annotation.$data.politifact_link="http://www.politifact.com/personalities/"+t.slug),annotation.$data.wikipedia_link="https://en.wikipedia.org/wiki/"+t.name,annotation.open()}},a.open("GET",n,!0),a.send()});var add=new Vue({el:"#js-add-selection",data:{value:""},methods:{}}),content=new Vue({el:"#js-capture-selection",data:{},methods:{capture:function(t){var e=window.getSelection();if(!e.isCollapsed&&1==e.rangeCount){var a=e.getRangeAt(0);a&&(add.$data.value=a.toString())}}}});menu_tab=document.getElementById("js-tab-menu"),article_tab=document.getElementById("js-tab-article"),menu_form=document.getElementById("js-sidebar-anno-menu"),menu_tab&&menu_tab.addEventListener("click",function(t){this.classList.toggle("current")?(article_tab.classList.remove("current"),menu_form.classList.add("open")):(article_tab.classList.add("current"),menu_form.classList.remove("open"))}),article_tab&&article_tab.addEventListener("click",function(t){this.classList.toggle("current")?(menu_tab.classList.remove("current"),menu_form.classList.remove("open")):(menu_tab.classList.add("current"),menu_form.classList.add("open"))});