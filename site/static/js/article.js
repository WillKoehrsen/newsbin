var content=new Vue({el:"#js-capture-selection",data:{},methods:{capture:function(t){var e=window.getSelection();if(!e.isCollapsed&&1==e.rangeCount){var n=e.getRangeAt(0);n&&(document.getElementById("js-add-selection").value=n.toString())}}}}),menu=new Vue({el:"#js-sidebar-menu",data:{active:!1,input_tooltip:"add or remove annotations"},methods:{open:function(){this.$data.active=!0},close:function(){this.$data.active=!1}}}),mobile=new Vue({el:"#js-mobile-menu",data:{article:!0,menu:!1},methods:{toggle:function(t){this.$data.article=this.$data.menu,(this.$data.menu=!this.$data.menu)?menu.open():menu.close()}}}),annotation_defaults={name:"",image:"",table:[],content:[],wikipedia_link:"",politifact_link:""},modal=new Vue({el:"#modal-annotation",data:annotation_defaults,methods:{close:function(t){this.$el.style.display="none",this.clear()},open:function(t){this.$el.style.display="flex"},clear:function(t){Object.assign(this.$data,annotation_defaults)},fetch:function(t){var e=new XMLHttpRequest,n=this.$data,a=this;e.onload=function(){if(200==this.status){var t=JSON.parse(this.responseText);n.name=t.name,n.image=t.image,n.content=t.summary.split("\n\n"),n.wikipedia_link="https://en.wikipedia.org/wiki/"+t.name;for(var e=0;e<t.data_table.length;e++)n.table.push(t.data_table[e]);t.slug&&(n.politifact_link="http://www.politifact.com/personalities/"+t.slug),a.open()}},e.open("GET","/annotations?name="+t,!0),e.send()}}});!function(t){for(var e=0;e<t.length;e++){var n=t[e];n.classList.add("highlight"),n.addEventListener("click",function(t){var e=this.getAttribute("name");modal.fetch(e)})}}(document.getElementsByClassName("annotation")),function(t){t&&(t.innerHTML=(new Date).getFullYear())}(document.getElementById("js-year"));