NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){for(var s=0,a=this.length;s<a;++s)e.call(t,this[s],s,this)}),window.addEventListener("load",function(){for(var e=document.forms[0].elements,t=0;t<e.length;t++){var s=e[t];"checkbox"==s.type?s.name in sessionStorage&&(s.checked="false"!=sessionStorage[s.name]):["text","number","select-one"].indexOf(s.type)>=0&&s.name in sessionStorage&&("number"==s.type?s.value=parseInt(sessionStorage[s.name]):s.value=sessionStorage[s.name])}});for(var dates=document.getElementsByClassName("js-localize-date"),i=0;i<dates.length;i++){var block=dates[i],date=new Date(block.getAttribute("iso"));block.innerHTML=date.toLocaleDateString()+" "+date.toLocaleTimeString()}layout={all:document.getElementById("all-check"),form:document.getElementById("js-sidebar-form"),search:document.getElementById("js-search-input"),number:document.getElementById("js-number-input"),category:document.getElementById("js-category-select"),search_tab:document.getElementById("js-tab-search"),results_tab:document.getElementById("js-tab-results"),sources:document.querySelectorAll(".sources input:not(#all-check)")};for(var inputs=document.querySelectorAll("input[type=checkbox]"),i=0;i<inputs.length;i++)inputs[i].style.display="none",inputs[i].classList.add("checkable");for(var i=0;i<layout.sources.length;i++)layout.sources[i].addEventListener("change",function(e){sessionStorage[this.name]=this.checked,this.checked?(layout.all.checked=!0,layout.sources.forEach(function(e){e.checked||(layout.all.checked=!1)})):layout.all.checked=!1,sessionStorage[layout.all.name]=layout.all.checked});layout.search.addEventListener("change",function(e){sessionStorage[this.name]=this.value}),layout.number.addEventListener("change",function(e){sessionStorage[this.name]=this.value}),layout.category.addEventListener("change",function(e){sessionStorage[this.name]=this.value}),layout.all.addEventListener("change",function(e){var t=this;layout.sources.forEach(function(e){e.checked=t.checked,sessionStorage[e.name]=e.checked}),sessionStorage[this.name]=this.checked}),layout.search_tab&&layout.search_tab.addEventListener("click",function(e){this.classList.toggle("current")?(layout.results_tab.classList.remove("current"),layout.form.classList.add("open")):(layout.results_tab.classList.add("current"),layout.form.classList.remove("open"))}),layout.results_tab&&layout.results_tab.addEventListener("click",function(e){this.classList.toggle("current")?(layout.search_tab.classList.remove("current"),layout.form.classList.remove("open")):(layout.search_tab.classList.add("current"),layout.form.classList.add("open"))});