NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){for(var n=0,i=this.length;n<i;++n)e.call(t,this[n],n,this)});var options=function(e){for(var t=null,n=[],i=0;i<e.length;i++){var o=e[i];"all_label"==o.id?t=o:n.push(o),o.box=o.getElementsByTagName("input")[0],o.box.id in sessionStorage&&(o.box.checked="false"!=sessionStorage.getItem(o.box.id)),o.classList.toggle("mark",o.box.checked),o.addEventListener("change",function(e){this.id in a?a[this.id](this):a.default(this)})}var a={all_label:function(e){n.forEach(function(t){t.box.checked=e.box.checked}),this.update()},default:function(e){t.box.checked=n.every(function(e){return e.box.checked}),this.update()},update:function(){for(var t=0;t<e.length;t++){var n=e[t];n.classList.toggle("mark",n.box.checked),window.sessionStorage.setItem(n.box.id,n.box.checked)}}}}(document.getElementsByClassName("option-item"));!function(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in sessionStorage?n.value=sessionStorage.getItem(n.id):sessionStorage.setItem(n.id,n.value),n.addEventListener("change",function(e){this.id&&sessionStorage.setItem(this.id,this.value)})}}(document.querySelectorAll('input[type="text"], input[type="number"], select')),function(e){e&&(e.innerHTML=(new Date).getFullYear())}(document.getElementById("js-year")),function(e,t){var n=[];[].push.apply(n,e.getElementsByTagName("div"));var i={open_menu:function(){t.classList.add("open")},close_menu:function(){t.classList.remove("open")}};n.forEach(function(e){e.addEventListener("click",function(e){this.classList.contains("current")||(n.forEach(function(e){e.classList.remove("current")}),this.classList.add("current"),i[this.getAttribute("run")]())})})}(document.getElementById("js-mobile-menu"),document.getElementById("js-menu")),function(e){function t(){if(!s){s=!0,r+=1;var t=new XMLHttpRequest;t.onload=function(){if(200==this.status){for(var t=JSON.parse(this.responseText),i=0;i<t.length;i++){var o=JSON.parse(t[i]);astr='<a href="/article/'+o.id+'" class="title-link">'+o.title+'</a><table class="information"><tr><td><a href="'+o.link+'" target="_blank" rel="noopener">on '+o.label+"</a></td><td>fetched: "+o.fetched.split(" ")[0]+"</td><td></td><td></td>",aobj=document.createElement("div"),aobj.classList.add("titlecard"),aobj.innerHTML=astr,a.push(aobj)}n(r)}else{var d=document.createElement("div");d.classList.add("the-end"),d.innerHTML=l,e.appendChild(d),c=!0}s=!1},t.open("GET","/titles/"+r,!0),t.send()}}function n(e){var t={};history.replaceState(t,"page "+e,e+window.location.search)}function i(){if(!c){0==a.length&&t();var n=window.setInterval(function(){if(a.length>0){var t=a.shift();e.appendChild(t)}else window.clearInterval(n)},250)}}function o(){var e=window.pageYOffset+window.innerHeight;return document.body.offsetHeight-e}var a=[],s=!1,r=parseInt(window.location.pathname.replace("/",""))||0,c=!1,l="no more articles here, sorry :/";window.addEventListener("scroll",function(e){o()<100&&i()})}(document.getElementById("js-titlecard-list"));