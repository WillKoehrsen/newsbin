<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta Declarations -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- End Meta Declarations -->

		<title>newsbin - {{ article.title }}</title>

		<!-- External Stylesheets -->
		<link rel="stylesheet" type="text/css" href="/static/css/index.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/article.css" />
		<!-- End External Stylesheets -->

	</head>
	<body>
		<noscript class="noscript-notification">
			some site functionality won't be available without <a href="http://www.enable-javascript.com/" target="_blank">javascript</a> enabled.
			<style>
				.container {
					margin-top:40px;
				}
			</style>
		</noscript>

		{% raw %}
		<div id="modal-annotation" class="modal-annotation" ref="modal" >
			<div class="modal-close" v-on:click="close">Close</div>
			<div class="modal-title">{{ name }}</div>
			<div class="modal-image-wrapper" v-if="image">
				<img :src="image"/>
			</div>
			<div class="modal-data-table" v-if="table">
				<div v-for="item in table" class="modal-data-item">
					<div>{{ item.key }}</div>
					<div v-bind:title="item.tooltip">{{ item.value }}</div>
				</div>
			</div>
			<div class="modal-content">
				<p v-for="item in content">
					{{ item }}
				</p>
			</div>
			<div class="modal-links">
				<a v-if="wikipedia_link" :href="wikipedia_link" target="_blank">on wikipedia</a>
				<a v-if="politifact_link" :href="politifact_link" target="_blank">on politifact</a>
			</div>
		</div>
		{% endraw %}

		<div class="container">

			<div class="mobile-menu" id="js-mobile-menu">
				<div :class="{ current: menu }" v-on:click="toggle">
					Menu
				</div>
				<div :class="{ current: article }" v-on:click="toggle">
					Article
				</div>
			</div>

			<div class="sub-container side-container" :class="{ open: active }" id="js-sidebar-menu">

				<form action="/article/{{ article.id }}" method="post" class="block annotation-block" autocomplete="off">
					<div class="header">Annotate</div>
					<input class="annotation-input" :title="input_tooltip" type="text" name="annotation" id="js-add-selection">
					<input type="submit" class="item button" name="add" value="Add">
					<input type="submit" class="item button" name="remove" value="Remove">
				</form>

				<div class="block">
					<div class="header">Blacklist</div>
					<div class="blacklist{{ ' fadelist' if not blacklist }}">{{ blacklist if blacklist else 'nothing here' }}</div>
				</div>

				<!-- only displays on mobile -->
				<div class="block information-block">
					<div class="header">Information</div>
					<div class="info-block-content">
						<div>Source: <a href="{{ article.link }}" target="_blank">{{ article.source|upper }}</a></div>
						<div>Author(s): <span>{{ article.author }}</span></div>
						<div>Fetched: <span>{{ article.fetched.strftime('%Y-%m-%d') }}</span></div>
					</div>
				</div>

				<div class="block">
					<div class="header">Navigation</div>
					<a href="/" class="item">Main</a>
					<a href="/about" class="item">About</a>
					<a href="https://github.com/mjhouse/newsbin" target="_blank" class="item">Github</a>
				</div>

			</div>

			<div class="sub-container main-container article">
				<div class="article-title">{{ article.title }}</div>
				<div v-on:mouseup="capture" class="article-content" id="js-capture-selection">
					{{ article.content|safe }}
				</div>
				<table class="information">
					<tr>
						<td>original: <a href="{{ article.link }}" target="_blank">on {{ article.source }}</a></td>
						<td>id: {{ article.id }}</td>
					</tr>
				</table>
				<div class="footer">
					newsbin &copy; <span id="js-year"></span> Michael House
				</div>
			</div>
		</div>
		<!-- External Javascript -->
		<script src="/static/js/vue.js"></script>
		<script src="/static/js/article.js"></script>
		<!-- End External Javascript -->
	</body>
</html>
