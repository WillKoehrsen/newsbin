<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta Declarations -->
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- End Meta Declarations -->

		<title>newsbin</title>

		<!-- External Stylesheets -->
		<link rel="stylesheet" type="text/css" href="/static/css/index.css" />
		<!-- End External Stylesheets -->

	</head>
	<body>
		<div class="container">
			<form action="/" method="get" class="sub-container side-container" id="js-sidebar-form">
				<div class="block sources">
					<div class="header">Sources</div>
					<label for="all-check" class="item">
						<input id="all-check" type="checkbox" name="all" {{ 'checked' if all else '' }}>
						<div class="label-name">All</div>
					</label>
					<label for="cnn-check" class="item">
						<input id="cnn-check" type="checkbox" name="cnn" {{ 'checked' if cnn else '' }}>
						<div class="label-name">CNN</div>
					</label>
					<label for="cnbc-check" class="item">
						<input id="cnbc-check" type="checkbox" name="cnbc" {{ 'checked' if cnbc else '' }}>
						<div class="label-name">CNBC</div>
					</label>
					<label for="foxnews-check" class="item">
						<input id="foxnews-check" type="checkbox" name="foxnews" {{ 'checked' if foxnews else '' }}>
						<div class="label-name">Fox News</div>
					</label>
					<label for="nytimes-check" class="item">
						<input id="nytimes-check" type="checkbox" name="nytimes" {{ 'checked' if nytimes else '' }}>
						<div class="label-name">New York Times</div>
					</label>
					<label for="reuters-check" class="item">
						<input id="reuters-check" type="checkbox" name="reuters" {{ 'checked' if reuters else '' }}>
						<div class="label-name">Reuters</div>
					</label>
					<label for="washingtonpost-check" class="item">
						<input id="washingtonpost-check" type="checkbox" name="washingtonpost" {{ 'checked' if washingtonpost else '' }}>
						<div class="label-name">Washington Post</div>
					</label>
				</div>
				
				<div class="block">
					<div class="header">Categories</div>
					<select name="category" class="categories">
						<option value="all">All</option>
						{% for option in categories %}
						<option value="{{ option|lower }}" {{ 'selected' if option|lower == selected }}>{{ option }}</option>
						{% endfor %}
					</select>
				</div>

				<div class="block">
					<div class="header">Search</div>
					<div class="search-bar">
						<input class="search-input" id="js-search-input" type="text" name="search" placeholder="Search" value="{{ search if search else '' }}">
						<div class="search-options">
							<label for="plain-check" class="option">
								<input id="plain-check" type="checkbox" name="plain" {{ 'checked' if plain else '' }}>
								<div class="label-name">plain </div>
							</label>
							<label for="regex-check" class="option">
								<input id="regex-check" type="checkbox" name="regex" {{ 'checked' if regex else '' }}>
								<div class="label-name">regex </div>
							</label>
						</div>
					</div>
					<div class="result-bar">
						<span>number of results (max 1000):&nbsp;</span>
						<input class="count-input" type="number" value="{{ count if count else '100' }}" name="count" id="js-number-input">
					</div>
				</div>

				<div class="block">
					<input type="submit" value="Apply" class="submit-button" id="js-submit-form">
				</div>

				<div class="block information-block">
					<div class="header">Information</div>
					<a href="/about" class="item">About</a>
					<a href="https://github.com/mjhouse/newsbin" target="_blank" class="item">Github</a>
				</div>

			</form>

			<div class="sub-container main-container">
				{% for article in articles %}
				<div class="title-card">
					<a class="title" href="/article?id={{ article.id }}">{{ article.title }}</a>
					<div class="information">
						<div class="link"><span class="title-card-label">original: </span><a href="{{ article.link }}" target="_blank">link</a></div>
						<div class="author"><span class="title-card-label">author: </span>{{ article.author }}</div>
						<div class="source"><span class="title-card-label">source: </span>{{ article.source }}</div>
						<div class="date"><span class="title-card-label">fetched: </span>{{ article.fetched.strftime('%Y-%m-%d %H:%M:%S %p') }} UTC</div>
					</div>
				</div>
				{% endfor %}
				<div class="footer">
					newsbin &copy; <span id="js-footer-year">2017</span> Michael House
				</div>
			</div>

		</div>

		<!-- External Javascript -->
		<script src="/static/js/index.js"></script>
		<!-- End External Javascript -->
	</body>
</html>
